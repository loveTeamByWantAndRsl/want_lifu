<!DOCTYPE HTML>
<html lang="cn" xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Cart - RapidShop</title>
		<link href="https://fonts.googleapis.com/css?family=Muli:400,600,700,800" rel="stylesheet" >
		<link href="http://fonts.googleapis.com/css?family=Poppins:400,500,600,700" rel="stylesheet" type="text/css" >		 
		<link href="https://fonts.googleapis.com/css?family=Handlee" rel="stylesheet">	
		<link rel="stylesheet" href="/css/font-awesome.css" />
		<link rel="stylesheet" href="/css/themify-icons.css" />
		<link rel="stylesheet" href="/css/animate.css" />
		<link rel="stylesheet" href="/css/owl.theme.default.min.css" />
		<link rel="stylesheet" href="/css/owl.carousel.min.css" />
		<link rel="stylesheet" href="/css/meanmenu.min.css" />
		<link rel="stylesheet" href="/css/remodal.css" />
		<link rel="stylesheet" href="/css/remodal-default-theme.css" />
		<link rel="stylesheet" href="/css/venobox.css" />
		<link rel="stylesheet" href="/css/bootstrap.min.css" />	
		<link rel="stylesheet" href="/css/style.css" />
		<link rel="stylesheet" href="/css/responsive.css" />	
	</head>
	
	<body>

	<!--  Start Header  -->
	<header id="header_area" th:replace="commons::header_area">
		<div class="header_top_area">
			<div class="container">
				<div class="row">
					<div class="col-xs-12 col-sm-6">
						<div class="hdr_tp_left">
							<div class="call_area">
								<span class="single_con_add"><i class="ti-mobile"></i> +0123456789</span>
								<span class="single_con_add"><i class="ti-email"></i> example@gmail.com</span>
							</div>
						</div>
					</div>
					
					<div class="col-xs-12 col-sm-6">
		
						<ul class="hdr_tp_right text-right">
							<li class="account_area"><a href="login.html"><i class="ti-user"></i> My Account</a></li>
							<li class="lan_area dropdown">
								<a class="dropdown-toggle" href="#" data-toggle="dropdown"><i class="ti-book"></i> Language</a>
								<ul class="csub-menu dropdown-menu">
									<li class="dropdown-item"><a href="#">English</a></li>
									<li class="dropdown-item"><a href="#">French</a></li>
									<li class="dropdown-item"><a href="#">Portuguese</a></li>
								</ul>
							</li>
						
							<li class="currency_area dropdown">
								<a class="dropdown-toggle" href="#" data-toggle="dropdown"><i class="ti-money"></i>Currency</a>
								<ul class="csub-menu dropdown-menu">
									<li class="dropdown-item"><a href="#">$ - USD</a></li>	
									<li class="dropdown-item"><a href="#">€ - Euro</a></li>	
									<li class="dropdown-item"><a href="#">£ - Pound</a></li>	
								</ul>								
							</li>
						</ul>
					</div>
				</div>
			</div>
		</div> <!--  HEADER START  -->
		
		<div class="header_btm_area">
			<div class="container">
				<div class="row">		
					<div class="col-xs-12 col-sm-12 col-md-3"> 
						<a class="logo" href="index.html"> <img alt="" src="img/logo.png"></a> 
					</div><!--  End Col -->
					
					<div class="col-xs-12 col-sm-12 col-md-7 text-center">
						<div class="menu_wrap">
							<div class="main-menu">
								<nav>
									<ul>
										<li><a href="index.html">home</a>					
										</li>									
										
										<li><a href="shop.html">Shop <i class="fa fa-angle-down"></i></a>
											<!-- Sub Menu -->
											<ul class="sub-menu">
												<li><a href="product-details.html">Product Details</a></li>
												<li><a href="cart.html">Cart</a></li>
												<li><a href="checkout.html">Checkout</a></li>
												<li><a href="wishlist.html">Wishlist</a></li>
												<li><a href="account.html">Account</a></li>
											</ul>
										</li>
										<li><a href="shop.html">Men <i class="fa fa-angle-down"></i></a>
											<!-- Mega Menu -->
											<div class="mega-menu mm-4-column mm-left">
												<div class="mm-column mm-column-link float-left">
													<h3>Men</h3>
													<a href="#">Blazers</a>
													<a href="#">Jackets</a>
													<a href="#">Collections</a>
													<a href="#">T-Shirts</a>
													<a href="#">jens pant’s</a>
													<a href="#">sports shoes</a>												
												</div>
												
												<div class="mm-column mm-column-link float-left">
													<h3>Women</h3>
													<a href="#">Blazers</a>
													<a href="#">Jackets</a>
													<a href="#">Collections</a>
													<a href="#">T-Shirts</a>
													<a href="#">jens pant’s</a>
													<a href="#">sports shoes</a>												
												</div>
												
												<div class="mm-column mm-column-link float-left">
													<h3>Jackets</h3>
													<a href="#">Blazers</a>
													<a href="#">Jackets</a>
													<a href="#">Collections</a>
													<a href="#">T-Shirts</a>
													<a href="#">jens pant’s</a>
													<a href="#">sports shoes</a>	
												</div>						

												<div class="mm-column mm-column-link float-left">
													<h3>jens pant’s</h3>
													<a href="#">Blazers</a>
													<a href="#">Jackets</a>
													<a href="#">Collections</a>
													<a href="#">T-Shirts</a>
													<a href="#">jens pant’s</a>
													<a href="#">sports shoes</a>	
												</div>

											</div>
										</li>
										<li><a href="#">Women <i class="fa fa-angle-down"></i></a>
											<!-- Mega Menu -->
											<div class="mega-menu mm-3-column mm-left">
												<div class="mm-column mm-column-link float-left">
													<h3>Woment</h3>
													<a href="#">Blazers</a>
													<a href="#">Jackets</a>
													<a href="#">Collections</a>
													<a href="#">T-Shirts</a>
													<a href="#">jens pant’s</a>
													<a href="#">sports shoes</a>	
												</div>
												
												<div class="mm-column mm-column-link float-left">
													<h3>T-Shirts</h3>
													<a href="#">Blazers</a>
													<a href="#">Jackets</a>
													<a href="#">Collections</a>
													<a href="#">T-Shirts</a>
													<a href="#">jens pant’s</a>
													<a href="#">sports shoes</a>	
												</div>					

												<div class="mm-column mm-column-link float-left">
													<h3>Jackets</h3>
													<a href="#">Blazers</a>
													<a href="#">Jackets</a>
													<a href="#">Collections</a>
													<a href="#">T-Shirts</a>
													<a href="#">jens pant’s</a>
													<a href="#">sports shoes</a>	
												</div>												
			
											</div>
										</li>
										
										<li><a href="#">pages <i class="fa fa-angle-down"></i></a>
											<!-- Sub Menu -->
											<ul class="sub-menu">
												<li><a href="left-sidebar-blog.html">Left Sidebar Blog</a></li>
												<li><a href="right-sidebar-blog.html">Right Sidebar Blog</a></li>
												<li><a href="full-width-blog.html">Full Width Blog</a></li>
												<li><a href="blog-details.html">Blog Details</a></li>
												<li><a href="about-us.html">About Us</a></li>
												<li><a href="contact.html">Contact Us</a></li>
												<li><a href="404.html">404 Page</a></li>
											</ul>
										</li>
										<li><a href="contact.html">contact</a></li>
									</ul>
								</nav>
							</div> <!--  End Main Menu -->					

							<div class="mobile-menu text-right ">
								<nav>
									<ul>
										<li><a href="index.html">home</a></li>																		
										<li><a href="#">Shop</a>
											<!-- Sub Menu -->
											<ul>
												<li><a href="product-details.html">Product Details</a></li>
												<li><a href="cart.html">Cart</a></li>
												<li><a href="checkout.html">Checkout</a></li>
												<li><a href="wishlist.html">Wishlist</a></li>
											</ul>
										</li>
										<li><a href="#">Men</a>																		
											<ul>
												<li><a href="#">Blazers</a></li>
												<li><a href="#">Jackets</a></li>
												<li><a href="#">Collections</a></li>
												<li><a href="#">T-Shirts</a></li>
												<li><a href="#">jens pant’s</a></li>
												<li><a href="#">sports shoes</a></li>
											</ul>																				
										</li>
										
										<li><a href="#">Women</a>
											<ul>
												<li><a href="#">gagets</a></li>
												<li><a href="#">laptop</a></li>
												<li><a href="#">mobile</a></li>
												<li><a href="#">lifestyle</a></li>
												<li><a href="#">jens pant’s</a></li>
												<li><a href="#">sports items</a></li>
											</ul>
										</li>
									
										<li><a href="#">pages</a>											
											<ul>
												<li><a href="blog.html">Blog</a></li>
												<li><a href="blog-details.html">Blog Details</a></li>
												<li><a href="about-us.html">About Us</a></li>
												<li><a href="contact.html">Contact Us</a></li>
												<li><a href="404.html">404 Page</a></li>
											</ul>
										</li>
										<li><a href="#">contact</a></li>
									</ul>
								</nav>
							</div> <!--  End mobile-menu -->						
						</div>
					</div><!--  End Col -->		

					<div class="col-xs-12 col-sm-12 col-md-2">
						<div class="right_menu pull-right">
							<ul class="nav">
								<li>
									<div class="search_icon">
										<a href="#modal" data-remodal-target="modal"><i class="ti-search search_btn"></i></a>
										
										<div class="search-box remodal" data-remodal-id="modal">
											<button data-remodal-action="close" class="remodal-close"></button>
											<form action="#" method="Post">
												<div class="input-group">
													<input type="text" class="form-control"  placeholder="enter keyword"/>				
													<button type="submit" class="btn btn-default"><i class="ti-search"></i></button>			
												</div>
											</form>
										</div>
									</div>
								</li>
								
								<li>
									<div class="cart_menu_area">
										<div class="cart_icon">
											<a href="#"><i class="ti-shopping-cart-full" aria-hidden="true"></i></a>
											<span class="cart_number">2</span>
										</div>
										
										
										<!-- Mini Cart Wrapper -->
										<div class="mini-cart-wrapper">
											<!-- Product List -->
											<div class="mc-pro-list fix">
												<div class="mc-sin-pro fix">
													<a href="#" class="mc-pro-image float-left"><img src="img/mini-cart/1.jpg" alt="" /></a>
													<div class="mc-pro-details fix">
														<a href="#">This is Product Name</a>
														<span>1x$25.00</span>
														<a class="pro-del" href="#"><i class="fa fa-times-circle"></i></a>
													</div>
												</div>
												<div class="mc-sin-pro fix">
													<a href="#" class="mc-pro-image float-left"><img src="img/mini-cart/2.jpg" alt="" /></a>
													<div class="mc-pro-details fix">
														<a href="#">This is Product Name</a>
														<span>1x$25.00</span>
														<a class="pro-del" href="#"><i class="fa fa-times-circle"></i></a>
													</div>
												</div>
											</div>
											<!-- Sub Total -->
											<div class="mc-subtotal fix">
												<h4>Subtotal <span>$50.00</span></h4>												
											</div>
											<!-- Cart Button -->
											<div class="mc-button">
												<a href="#" class="checkout_btn">checkout</a>
											</div>
										</div>											
									</div>	
									
								</li>
							</ul>
						</div>	
					</div><!--  End Col -->	
					
				</div>
			</div>
		</div>
	</header>
	<!--  End Header  -->

		<!-- Page item Area -->
		<div id="page_item_area">
			<div class="container">
				<div class="row">
					<div class="col-sm-6 text-left">
						<h3>Shop Details</h3>
					</div>		

					<div class="col-sm-6 text-right">
						<ul class="p_items">
							<li><a href="/index">首页</a></li>
							<li><span>购物车</span></li>
						</ul>					
					</div>	
				</div>
			</div>
		</div>
		
		<!-- Cart Page -->
		<div class="cart_page_area">
			<div class="container">
				<div class="row">
					<div class="col-sm-12">
						<div class="cart_table_area table-responsive">
							<table class="table cart_prdct_table text-center">
								<thead>
									<tr>

										<th class="cpt_choose"><input id="selectAll" role="checkbox" type="checkbox" class="cbox checkbox"></th>
										<th class="cpt_no">编号</th>
										<th class="cpt_img">图片</th>
										<th class="cpt_pn">商品名称</th>
										<th class="cpt_q" style="width: 40px">数量</th>
										<th class="cpt_q" style="width: 40px">型号</th>
										<th class="cpt_q" style="width: 40px">颜色</th>
										<th class="cpt_p">单价</th>
										<th class="cpt_t">总价</th>
										<th class="cpt_r">删除</th>
									</tr>
								</thead>
								<tbody id="cartBody">

									

									
								</tbody>
							</table>
						</div>
					</div>
				</div>
				
				<div class="row">
					<div class="col-md-8 col-xs-12 cart-actions cart-button-cuppon">
						<div class="row">
							<div class="col-sm-7">
								<div class="cart-action">
									<a href="shop" class="btn border-btn">继续购买</a>
								</div>
							</div>
							
<!--							<div class="col-sm-5">-->
<!--								<div class="cuppon-wrap">-->
<!--									<h4>Discount Code</h4>-->
<!--									<p>Enter your coupon code if you have</p>-->
<!--									<form action="#" class="cuppon-form">-->
<!--										<input type="text" />-->
<!--										<button class="btn border-btn">apply coupon</button>-->
<!--									</form>-->
<!--								</div>-->
<!--							</div>-->
						</div>
					</div>
					
					<div class="col-md-4 col-xs-12 cart-checkout-process text-right">
						<div class="wrap">
<!--							<p><span>Subtotal</span><span>$200.00</span></p>-->
							<h4><span>总价格</span><span id="allPrice">0.00</span>元</h4>
							<a onclick="pay()" class="btn border-btn">购买</a>
						</div>
					</div>
					
				</div>

				<div class="row">
					<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
						<div class="modal-dialog" role="document">
							<div class="modal-content">
								<div class="modal-header">
									<h5 class="modal-title" id="exampleModalLabel">New message</h5>
									<button type="button" class="close" data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<div class="modal-body">
									<form id="addOrder" action="/user/pay" method="post">
										<div class="form-group">
											<input id="ids"  name="idString" type="text">
										</div>
										<div class="form-group">
										<input id="counts"  name="countString" type="text">
										</div>
											<div class="form-group">
										<input id="sizes"  name="sizeString" type="text">
											</div>
												<div class="form-group">
										<input id="colors"  name="colorString" type="text">
												</div>
										<div class="form-group">
											<label for="address" class="col-form-label">选择您的地址:</label>
											<select id="address" name="addressId"></select>
										</div>
									</form>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
									<button onclick="goPay()" type="button" class="btn btn-primary">确认</button>
<!--									-->
								</div>
							</div>
						</div>
					</div>
<!--					<form hidden id="addOrder" action="/user/pay" method="post">-->
<!--						<input id="ids" name="idString" type="text">-->
<!--						<input id="counts" name="countString" type="text">-->
<!--					</form>-->
				</div>
			</div>
		</div>

		<!--  FOOTER START  -->
		<footer class="footer_area" th:replace="commons::footer_area">
			<div class="footer-top">
				<div class="container">
					<div class="row">				
						<div class="col-lg-4 col-sm-6">
							<div class="single_ftr footer-contact-info">
								<h4 class="sf_title">Contacts</h4>
								<ul>
									<li><i class="ti-location-pin"></i> 4060 Reppert Coal Road Jackson,<br> MS 39201 USA</li>
									<li><i class="ti-mobile"></i> (+123) 685 78 <br> (+064) 987 245</li>
									<li><i class="ti-email"></i> contact@yoursite.com <br> support@yoursite.com</li>
								</ul>
							</div>
						</div> <!--  End Col -->
						
						<div class="col-lg-2 col-sm-6">
							<div class="single_ftr">
								<h4 class="sf_title">Information</h4>
								<ul>
									<li><a href="#">About Us</a></li>
									<li><a href="#">Delivery Information</a></li>
									<li><a href="#">Privacy Policy</a></li>
									<li><a href="#">Terms & Conditions</a></li>
									<li><a href="#">Contact Us</a></li>
								</ul>
							</div>
						</div> <!--  End Col -->
						
						<div class="col-lg-2 col-sm-6">
							<div class="single_ftr">
								<h4 class="sf_title">Services</h4>
								<ul>
									<li><a href="#">Returns</a></li>
									<li><a href="#">Site Map</a></li>
									<li><a href="#">Wish List</a></li>
									<li><a href="#">My Account</a></li>
									<li><a href="#">Order History</a></li>
								</ul>
							</div>
						</div> <!--  End Col -->	
						
						<div class="col-lg-4 col-sm-6">
							<div class="single_ftr">
								<h4 class="sf_title">Join Us Newsletter</h4>
								<div class="newsletter_form">
									<p>Lorem ipsum dolor sit amet consectetur adipiscing elit. Aenean lobortis  </p>
									<form method="post" class="form-inline">				
										<input name="EMAIL" id="email" placeholder="Enter Your Email" class="form-control" type="email">
										<button type="submit" class="btn btn-default"><i class="fa fa-paper-plane-o"></i></button>
									</form>
								</div>
							</div>
						</div> <!--  End Col -->
						
					</div>
				</div>
			</div>
		
		
			<div class="ftr_btm_area">
				<div class="container">
					<div class="row">
						<div class="col-sm-4">
							<div class="ftr_social_icon">
								<ul>
									<li><a href="#"><i class="fa fa-facebook"></i></a></li>
									<li><a href="#"><i class="fa fa-pinterest"></i></a></li>
									<li><a href="#"><i class="fa fa-linkedin"></i></a></li>
									<li><a href="#"><i class="fa fa-twitter"></i></a></li>
									<li><a href="#"><i class="fa fa-instagram"></i></a></li>
								</ul>
							</div>
						</div>
						
						<div class="col-sm-4">
							<p class="copyright_text text-center">Copyright &copy; 2019 RapidShop, All rights Reserved.</p>
						</div>
						
						<div class="col-sm-4">
							<div class="payment_mthd_icon text-right">
								<img src="img/card.png" alt="Card">
							</div>
						</div>
					</div>
				</div>
			</div>
		</footer>
		<!--  FOOTER END  -->


		<script src="/js/vendor/jquery-1.12.4.min.js"></script>
		<script src="/js/popper.min.js"></script>
		<script src="/js/bootstrap.min.js"></script>
		<script src="/js/jquery.meanmenu.min.js"></script>
		<script src="/js/jquery.mixitup.js"></script>
		<script src="/js/jquery.counterup.min.js"></script>
		<script src="/js/remodal.js"></script>
		<script src="/js/waypoints.min.js"></script>
		<script src="/js/wow.min.js"></script>
		<script src="/js/jquery.countdown.js"></script>
		<script src="/js/venobox.min.js"></script>
		<script src="/js/owl.carousel.min.js"></script>
		<script src="/js/simplePlayer.js"></script>
		<script src="/js/scrolltopcontrol.js"></script>
		<script src="/js/main.js"></script>
		<script src="/js/axios.js"></script>
		<script src="/js/public.js"></script>
	<script>
		$(function () {
			loadCart();
			loadCartBody();
		});
		function loadCartBody(){
			let username = $('#username').val();
			console.log("loadCartBody");
			let items = window.localStorage.getItem(username);

			if( isNull(items) ){
				$("#count").html(0);
				return;
			}
			$("#cartBody").empty();
			let item = JSON.parse(items);

			item.forEach((it,index)=>{
				$("#cartBody").append("<tr>\n" +
						"\t\t\t\t\t\t\t\t\t\t<td style=\"text-align:center;width:35px;\">\n" +
						"\t\t\t\t\t\t\t\t\t\t\t<input role=\"checkbox\" type=\"checkbox\" class=\"cbox checkbox\">\n" +
						"\t\t\t\t\t\t\t\t\t\t</td>\n" +
						"\t\t\t\t\t\t\t\t\t\t<td><span class=\"cp_no\">"+(index+1)+"<input name=\"id\" value=\""+it.id+"\" size=\"2\" type=\"text\" hidden readonly></span></td>\n" +
						"\t\t\t\t\t\t\t\t\t\t<td><a href=\"product-details?id="+it.id+"\" class=\"cp_img\"><img src=\""+it.pic+"\" alt=\"\" /></a></td>\n" +
						"\t\t\t\t\t\t\t\t\t\t<td><a href=\"product-details?id="+it.id+"\" class=\"cp_title\">"+it.lifuName+"</a></td>\n" +
						"\t\t\t\t\t\t\t\t\t\t<td>\n" +
						"\t\t\t\t\t\t\t\t\t\t\t<div class=\"cp_quntty\">\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n" +
						"\t\t\t\t\t\t\t\t\t\t\t\t<input name=\"quantity\" value=\""+it.count+"\" size=\"2\" type=\"number\" onchange='reSubPrice(this,"+it.id+")'>\t\t\t\t\t\t\t\t\t\t\t\t\t\n" +
						"\t\t\t\t\t\t\t\t\t\t\t</div>\n" +
						"\t\t\t\t\t\t\t\t\t\t</td>\n" +
						"\t\t\t\t\t\t\t\t\t\t<td><p class=\"cp_size\">"+it.size+"</p></td>\n" +
						"\t\t\t\t\t\t\t\t\t\t<td><p class=\"cpp_color\">"+it.color+"</p></td>\n" +
						"\t\t\t\t\t\t\t\t\t\t<td><p id=\"cp_price_"+it.id+"\" class=\"cp_price\">"+it.price+"</p>元</td>\n" +
						"\t\t\t\t\t\t\t\t\t\t<td><p id=\"cpp_total_"+it.id+"\" class=\"cpp_total\">"+it.price*it.count+"</p>元</td>\n" +
						"\t\t\t\t\t\t\t\t\t\t<td><a onclick='removeOnCartPage("+it.id+")' class=\"btn btn-default cp_remove\"><i class=\"fa fa-trash\"></i></a></td>\n" +
						"\t\t\t\t\t\t\t\t\t</tr>")
			});
		}
	</script>
	<script>
		$(function() {
			   $("#selectAll").change(function() {
				       var checkboxs = $("#cartBody").find("input[type='checkbox']");
				       var isChecked = $(this).is(":checked");
				//严禁使用foreach，jq对象的遍历会使浏览器崩溃
				       for(var i = 0; i < checkboxs.length; i++) {
						   //临时变量，必须，否则只能选中最后一条记录
						   var temp = i;
						   $(checkboxs[temp]).prop("checked",isChecked);
					   }
			   });
			   $("#cartBody input[type='checkbox']").change(function () {
				   reAllPrice();
			   });
				// $("#cartBody input[type='number']").change(function () {
				// 	reSubPrice(this);
				// });
		});
		function removeOnCartPage(id) {
			removeForCart(id);
			loadCart();
			loadCartBody();
		}
		function reSubPrice(it,id){
			console.log("reSubPrice");

			let item = it.parentNode.parentNode;

			let count = $(item).find("input[type='number']");
			// let price = $(item).find("p[class='cp_price']");
			// let total = $(item).find("p[class='cpp_total']");
			//
			// console.log( count );
			// console.log( $(count[0]).val() );
			//
			// console.log( total );
			// console.log( $(total[0]).html() );
			// console.log( price );
			// console.log( $(price[0]).html() );
			//
			// console.log(  );
			let allPrice = $(count[0]).val() * $("#cp_price_"+id).html();

			$("#cpp_total_"+id).text(allPrice+"元");
			reAllPrice();
		}

		function reAllPrice(){
			console.log("reCount");
			let allPrice = 0;
			let trs = $("#cartBody").find("tr");
			console.log(trs[0]);
			for (let i = 0; i < trs.length; i++) {
				let c = $(trs[i]).find("input[type='checkbox']");
				let count = $(trs[i]).find("input[type='number']");
				let price = $(trs[i]).find("p[class='cp_price']");

				// console.log("$(count[0]).val() = " + $(count[0]).val());
				// console.log("$(price[0]).text() = " + $(price[0]).text());

				if($(c).is(':checked')){
					allPrice += $(count[0]).val() * $(price[0]).text();
				}
			}
			$("#allPrice").empty();
			$("#allPrice").text(allPrice);

		}
		function pay(){
			let username = $('#username').val();
			if( username == 'default'){
				alert(" 必须登录后才能购买！！！");
				return;
			}

			let ids = '';
			let counts = '';
			let sizes = '';
			let colors = '';

			let trs = $("#cartBody").find("tr");

			for (let i = 0; i < trs.length; i++) {
				let c = $(trs[i]).find("input[type='checkbox']");
				let count = $(trs[i]).find("input[type='number']");
				let id = $(trs[i]).find("input[type='text']");
				let size = $(trs[i]).find("p[class='cp_size']");
				let color = $(trs[i]).find("p[class='cpp_color']");

				if($(c).is(':checked')){
					ids += $(id[0]).val() + ",";
					counts += $(count[0]).val() + ",";
					sizes += $(size[0]).text() + ",";
					colors += $(color[0]).text() + ",";
				}
			}
			ids = ids.substr(0,ids.length-1);
			counts = counts.substr(0,counts.length-1);
			sizes = sizes.substr(0,sizes.length-1);
			colors = colors.substr(0,colors.length-1);

			console.log("ids = " + ids);
			console.log("counts = " + counts);
			console.log("sizes = " + sizes);
			console.log("colors = " + colors);

			// alert( "ids = " + ids + "counts = " + counts);
			$("#ids").val(ids);
			$("#counts").val(counts);
			$("#sizes").val(sizes);
			$("#colors").val(colors);
			axios.get("/user/getAllAddress").then(function (res) {
				if(res.data.code == 200){
					let adds = res.data.data;
					if( adds.length == 0){
						alert("您还没有地址呢，快去创建一个吧！");
						return;
					}
					$('#address').empty();
					for (let i = 0; i < adds.length; i++) {
						$('#address').append("<option value=\"" + adds[i].id + "\">" + adds[i].address + "</option>")
					}
				}
			});
			$("#exampleModal").modal('show');
			// let from = $("#addOrder");
			//
			// from.submit();
		}
		function goPay() {
			let from = $("#addOrder");
			from.submit();

		}

	</script>
	</body>
</html>